<div class="container">
  <h2>Vehicle Management</h2>

  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Vehicle Type</th>
        <th>Capacity</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let vehicle of vehicles">
        <td>{{ vehicle.vehicleID }}</td>
        <td>{{ vehicle.vehicleType }}</td>
        <td>{{ vehicle.capacity }}</td>
        <td>{{ vehicle.status }}</td>
        <td>
          <button class="edit-btn" (click)="editVehicle(vehicle)">Edit</button>
          <button class="delete-btn" (click)="deleteVehicle(vehicle.vehicleID)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="vehicles.length === 0">No vehicles found in the database.</p>

  <button class="add-btn" (click)="toggleAddForm()">âž• Add Vehicle</button>

  <!-- Forms Container -->
  <div class="forms-container">
    <!-- Add Vehicle Form -->
    <div *ngIf="showAddForm" class="vehicle-form">
      <h3>Add New Vehicle</h3>
      <form #vehicleForm="ngForm" (ngSubmit)="addVehicle(vehicleForm)">
        <div class="form-group">
          <label>Vehicle Type:</label>
          <input type="text" [(ngModel)]="newVehicle.vehicleType" name="vehicleType" #type="ngModel" required />
          <div class="error" *ngIf="type.invalid && type.touched">Please enter the vehicle type.</div>
        </div>

        <div class="form-group">
          <label>Capacity:</label>
          <input type="number" [(ngModel)]="newVehicle.capacity" name="capacity" #capacity="ngModel" required />
          <div class="error" *ngIf="capacity.invalid && capacity.touched">Please enter the vehicle capacity.</div>
        </div>

        <div class="form-group">
          <label>Status:</label>
          <input type="text" [(ngModel)]="newVehicle.status" name="status" #status="ngModel" required />
          <div class="error" *ngIf="status.invalid && status.touched">Please enter the vehicle status.</div>
        </div>

        <div class="form-actions">
          <button type="submit">Save</button>
          <button type="button" class="cancel-btn" (click)="toggleAddForm()">Cancel</button>
        </div>
      </form>
    </div>

    <!-- Edit Vehicle Form -->
    <div *ngIf="editingVehicle" class="edit-form">
      <h3>Edit Vehicle</h3>
      <form #editForm="ngForm" (ngSubmit)="updateVehicle(editForm)">
        <div class="form-group">
          <label>Vehicle Type:</label>
          <input type="text" [(ngModel)]="editingVehicle.vehicleType" name="editVehicleType" #editType="ngModel" required />
          <div class="error" *ngIf="editType.invalid && editType.touched">Please enter the vehicle type.</div>
        </div>

        <div class="form-group">
          <label>Capacity:</label>
          <input type="number" [(ngModel)]="editingVehicle.capacity" name="editCapacity" #editCapacity="ngModel" required />
          <div class="error" *ngIf="editCapacity.invalid && editCapacity.touched">Please enter the vehicle capacity.</div>
        </div>

        <div class="form-group">
          <label>Status:</label>
          <input type="text" [(ngModel)]="editingVehicle.status" name="editStatus" #editStatus="ngModel" required />
          <div class="error" *ngIf="editStatus.invalid && editStatus.touched">Please enter the vehicle status.</div>
        </div>

        <div class="form-actions">
          <button type="submit">Update</button>
          <button type="button" (click)="editingVehicle = null">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>
